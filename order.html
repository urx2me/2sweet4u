<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2sweet4u</title>
    <link rel="stylesheet" href="style.css">
    <style>
        header {
            position: relative;
            height: 20%;
            padding: 10px;
            overflow: hidden;
        }
        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://png.pngtree.com/background/20230526/original/pngtree-candy-store-full-of-lots-of-candy-picture-image_2743542.jpg'); 
            background-position: center; 
            background-size: cover; 
            opacity: 30%;
            z-index: -1;
        }

        .box {
            border: 5px;
            border-style: solid;
            border-color: white;
            text-align: center;
            color: white;
            width: 50vw;
            height: 17vw;
            margin: auto;
            margin-bottom: 2.5%;
            font-size: 5.5vw;
            font-weight: bold;
            font-family: Caveat;
            top: 0%;
        }

        #t1 {
            width: 85%;
            margin: 2%;
            margin-left: 7%;
            font-family: 'Open Sans';
        }

        #p1 {
            width: 95%;
        }

        #td1 {
            width: 40%;
            color: whitesmoke;           
        }

        #td2 {
            vertical-align: top;
            padding-top: 5%;
        }

        #td2 p {
            color: white;
            font-size: 1.2vw;     
        }

        b {
            color: whitesmoke;
            font-size: 3vw;
            font-family: Playfair;
        }

        .menu-item {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            color: aliceblue;
            text-align: center;
        }

        .menu-item img {
            width: 100%;
            max-width: 300px;
            object-fit: cover;
        }

        .menu-item-content {
            width: 45%;
        }

        .product {
            border: 2px solid white;
            padding: 10px;
            margin-bottom: 20px;
            color: white;
            font-size: 25px;
            display: flex;
            align-items: center;
        }

        #productImage {
            width: 200px;
            margin-right: 20px;
        }

        .product-info {
            flex: 1;
        }

        #quantityPrice {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #quantityPrice input {
            width: 50px;
            text-align: center;
        }

        h1 {
            color: whitesmoke;
            font-size: 3vw;
            font-family: Playfair;
            text-align: center;
        }

        label {
            color: whitesmoke;
            font-size: 25px;
        }

        main {
            position: relative;
            min-height: calc(100vh - 20%);
        }

        #orderForm {
            position: relative;
        }

        #submitOrderButton {
            font-size: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            /* display: none; */
        }

        #submitOrderButtonContainer,
        #totalPrice {
            text-align: right;
            margin-right: 20px;
            margin-bottom: 20px;
        }

        #totalPrice {
            font-size: 30px;
            color: whitesmoke;
            /* display: none; */
        }
    </style>
</head>
<body>
    <header>
        <div class="background"></div> 
        <span id="sweet4u">2Sweet4U</span>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="menu.html">Menu</a>
            <a href="order.html">Order</a>
            <a href="location.html">Location</a>
            <a href="customersupport.html">Customer Support</a>
        </nav><br><br><br>   
        <div class="box">
            <p>ORDER</p>
        </div>
    </header>

    <main>
        <h1>Order Form</h1>
        <form id="orderForm">
            <label for="productSelection">Select a Product:</label>
            <select id="productSelection" style="font-size: 25px;">
                <option value="truffles">Truffles</option>
                <option value="brownies">Brownies</option>
                <option value="cookies">Chocolate Chip Cookies</option>
                <option value="tiramisu">Tiramisu</option>
                <option value="macarons">Macarons</option>
            </select>
            <button type="button" onclick="addToCart()">Add to Cart</button>
            <div id="orderSection"></div>
            <div id="totalPrice"></div>
            <div id="submitOrderButtonContainer">
                <button type="button" id="submitOrderButton" onclick="submitOrder()">Submit Order</button>
            </div>
        </form>

        <script>
            function addToCart() {
                const selectedProduct = document.getElementById('productSelection').value;
                const orderSection = document.getElementById('orderSection');
                
                // Check if the product is already in the cart
                const productAlreadyInCart = orderSection.querySelector(`#${selectedProduct}Product`);
                if (productAlreadyInCart) {
                    alert('This product is already in the cart.');
                    return; // Do not add the product again
                }
                
                const productDiv = document.createElement('div');
                productDiv.id = `${selectedProduct}Product`; // Use product ID as identifier
                productDiv.classList.add('product');
                productDiv.innerHTML = `
                    <img id="productImage" src="${getProductImage(selectedProduct)}" alt="${selectedProduct}">
                    <div class="product-info">
                        <h3>${selectedProduct.charAt(0).toUpperCase() + selectedProduct.slice(1)}</h3>
                        <div id="quantityPrice">
                            <label for="${selectedProduct}Quantity">Quantity:</label>
                            <input type="number" id="${selectedProduct}Quantity" min="1" value="1">
                            <p>Price: â‚±<span id="${selectedProduct}Price">0.00</span></p>
                        </div>
                    </div>
                `;

                productDiv.addEventListener('input', function() {
                    calculatePrice(selectedProduct);
                });

                orderSection.appendChild(productDiv);
                calculatePrice(selectedProduct);
                updateTotalPrice();
            }

            function calculatePrice(product) {
                const quantityInput = document.getElementById(`${product}Quantity`);
                const priceSpan = document.getElementById(`${product}Price`);
                const productPrice = getProductPrice(product);
                const quantity = parseInt(quantityInput.value);
                const totalPrice = productPrice * quantity;
                priceSpan.textContent = totalPrice.toFixed(2);
                updateTotalPrice();
            }

            function getProductPrice(product) {
                // Define product prices here
                const prices = {
                    'truffles': 250.00,
                    'brownies': 150.00,
                    'cookies': 200.00,
                    'tiramisu': 300.00,
                    'macarons': 180.00
                };
                return prices[product] || 0; // Return 0 if product not found
            }

            function getProductImage(product) {
                // Define product images here
                const images = {
                    'truffles': 'https://insanelygoodrecipes.com/wp-content/uploads/2022/01/Homemade-Chocolate-Truffles-with-Fresh-Berries.jpg',
                    'brownies': 'https://food.fnr.sndimg.com/content/dam/images/food/fullset/2020/10/14/0/FNK_PECAN_PIE_BROWNIES_H_f_s4x3.jpg.rend.hgtvcom.1280.720.suffix/1602697125514.jpeg',
                    'cookies': 'https://preppykitchen.com/wp-content/uploads/2023/04/Peanut-Butter-Chocolate-Chip-Cookies-Recipe-Card.jpg',
                    'tiramisu': 'https://bakedbrewedbeautiful.com/wp-content/uploads/2021/03/DSC0432-1024x684.jpg',
                    'macarons': 'https://www.southernliving.com/thmb/dnsycw_-mf35yKRkq3cBsThVzrY=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Southern-Living_Macarons_025-0e05e0cd226d44609f55ed8bc9cd3a3e.jpg'
                };
                return images[product] || ''; // Return empty string if product not found
            }

            function submitOrder() {
                alert('Order submitted! Thank you for buying at 2Sweet4U');
                clearOrders();
            }

            function clearOrders() {
                const orderSection = document.getElementById('orderSection');
                orderSection.innerHTML = ''; // Clear the order section
                updateTotalPrice(); // Update total price and show/hide submit button
            }

            function updateTotalPrice() {
                const orderSection = document.getElementById('orderSection');
                const productDivs = orderSection.querySelectorAll('.product');
                let totalPrice = 0;
                productDivs.forEach(function(productDiv) {
                    const priceSpan = productDiv.querySelector('span');
                    const price = parseFloat(priceSpan.textContent);
                    totalPrice += price;
                });
                const totalPriceElement = document.getElementById('totalPrice');
                totalPriceElement.textContent = `Total: â‚±${totalPrice.toFixed(2)}`;
                const submitOrderButtonContainer = document.getElementById('submitOrderButtonContainer');
                if (totalPrice > 0) {
                    totalPriceElement.style.display = 'block'; // Show total price
                    submitOrderButtonContainer.style.display = 'block'; // Show submit order button container
                } else {
                    totalPriceElement.style.display = 'none'; // Hide total price
                    submitOrderButtonContainer.style.display = 'none'; // Hide submit order button container
                }
            }
        </script>
    </main>
    
</body>
</html>
