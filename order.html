<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2sweet4u</title>
    <link rel="stylesheet" href="style.css">
    <style>
        header {
            position: relative;
            height: 20%;
            padding: 10px;
            overflow: hidden;
        }
        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://png.pngtree.com/background/20230526/original/pngtree-candy-store-full-of-lots-of-candy-picture-image_2743542.jpg'); 
            background-position: center; 
            background-size: cover; 
            opacity: 30%;
            z-index: -1;
        }

        .box {
            border: 5px;
            border-style: solid;
            border-color: white;
            text-align: center;
            color: white;
            width: 50vw;
            height: 17vw;
            margin: auto;
            margin-bottom: 2.5%;
            font-size: 5.5vw;
            font-weight: bold;
            font-family: Caveat;
            top: 0%;
        }

        #t1 {
            width: 85%;
            margin: 2%;
            margin-left: 7%;
            font-family: 'Open Sans';
        }

        #p1 {
            width: 95%;
        }

        #td1 {
            width: 40%;
            color: whitesmoke;           
        }

        #td2 {
            vertical-align: top;
            padding-top: 5%;
        }

        #td2 p {
            color: white;
            font-size: 1.2vw;     
        }

        b {
            color: whitesmoke;
            font-size: 3vw;
            font-family: Playfair;
        }

        .menu-item {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            color: aliceblue;
            text-align: center;
        }

        .menu-item img {
            width: 100%;
            max-width: 300px;
            object-fit: cover;
        }

        .menu-item-content {
            width: 45%;
        }

        .product {
            border: 2px solid white;
            padding: 10px;
            margin-bottom: 20px;
            color: white;
            font-size: 25px;
            display: flex;
            align-items: center;
            position: relative;
        }

        #productImage {
            width: 200px;
            margin-right: 20px;
        }

        .product-info {
            flex: 1;
        }

        #quantityPrice {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #quantityPrice input {
            width: 50px;
            text-align: center;
        }

        h1 {
            color: whitesmoke;
            font-size: 3vw;
            font-family: Playfair;
            text-align: center;
        }

        label {
            color: whitesmoke;
            font-size: 25px;
        }

        main {
            position: relative;
            min-height: calc(100vh - 20%);
        }

        #orderForm {
            position: relative;
        }

        #submitOrderButton {
            font-size: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #submitOrderButtonContainer,
        #totalPrice {
            text-align: right;
            margin-right: 20px;
            margin-bottom: 20px;
        }

        #totalPrice {
            font-size: 30px;
            color: whitesmoke;
        }

        #submitOrderButtonContainer {
            display: none;
        }

        .remove-button {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div class="background"></div> 
        <span id="sweet4u">2Sweet4U</span>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="menu.html">Menu</a>
            <a href="order.html">Order</a>
            <a href="location.html">Location</a>
            <a href="customersupport.html">Customer Support</a>
        </nav><br><br><br>   
        <div class="box">
            <p>ORDER</p>
        </div>
    </header>

    <main>
        <h1>Order Form</h1>
        <form id="orderForm">
            <label for="productSelection">Select a Product:</label>
            <select id="productSelection" style="font-size: 25px;">
                <option value="truffles">Truffles</option>
                <option value="brownies">Brownies</option>
                <option value="cookies">Chocolate Chip Cookies</option>
                <option value="tiramisu">Tiramisu</option>
                <option value="macarons">Macarons</option>
                <option value="bunet">Bunet</option>
                <option value="Chocolate Pudding with Miso Caramel">Chocolate Pudding with Miso Caramel</option>
                <option value="Chocolate Mousse">Chocolate Mousse</option>
                <option value="Chocolate-Peanut Butter Cookie Cake">Chocolate-Peanut Butter Cookie Cake</option>
                <option value="Strawberry Cheesecake">Strawberry Cheesecake</option>
                <option value="Stuffed Strawberry">Stuffed Strawberry</option>
            </select>
            <button type="button" onclick="addToCart()">Add to Cart</button>
            <div id="orderSection"></div>
            <div id="totalPrice"></div>
            <div id="submitOrderButtonContainer">
                <button type="button" id="submitOrderButton" onclick="submitOrder()">Submit Order</button>
            </div>
        </form>

        <script>
            function addToCart() {
                const selectedProduct = document.getElementById('productSelection').value;
                const orderSection = document.getElementById('orderSection');
                
                const productAlreadyInCart = orderSection.querySelector(`#${selectedProduct}Product`);
                if (productAlreadyInCart) {
                    alert('This product is already in the cart.');
                    return;
                }
                
                const productDiv = document.createElement('div');
                productDiv.id = `${selectedProduct}Product`;
                productDiv.classList.add('product');
                productDiv.innerHTML = `
                    <img id="productImage" src="${getProductImage(selectedProduct)}" alt="${selectedProduct}">
                    <div class="product-info">
                        <h3>${selectedProduct.charAt(0).toUpperCase() + selectedProduct.slice(1)}</h3>
                        <div id="quantityPrice">
                            <label for="${selectedProduct}Quantity">Quantity:</label>
                            <input type="number" id="${selectedProduct}Quantity" min="1" value="1">
                            <label for="${selectedProduct}Option">Option:</label>
                            <select id="${selectedProduct}Option">
                                ${getProductOptions(selectedProduct)}
                            </select>
                            <p>Price: â‚±<span id="${selectedProduct}Price">0.00</span></p>
                        </div>
                    </div>
                    <button class="remove-button" onclick="removeProduct('${selectedProduct}Product')">X</button>
                `;

                productDiv.addEventListener('input', function() {
                    calculatePrice(selectedProduct);
                });

                orderSection.appendChild(productDiv);
                calculatePrice(selectedProduct);
                updateTotalPrice();
            }

            function calculatePrice(product) {
                const quantityInput = document.getElementById(`${product}Quantity`);
                const optionSelect = document.getElementById(`${product}Option`);
                const priceSpan = document.getElementById(`${product}Price`);
                const productPrice = getProductPrice(product);
                const quantity = parseInt(quantityInput.value);
                const option = optionSelect.value;
                let totalPrice;
                if (option === 'box') {
                    // Calculate price based on the selected option
                    totalPrice = productPrice * quantity * 10; // For example, multiply by 10 for a box
                } else {
                    // Calculate price based on the default option (e.g., pieces)
                    totalPrice = productPrice * quantity;
                }
                priceSpan.textContent = totalPrice.toFixed(2);
                updateTotalPrice();
            }

            function getProductPrice(product) {
                const prices = {
                    'truffles': 250.00,
                    'brownies': 150.00,
                    'cookies': 200.00,
                    'tiramisu': 300.00,
                    'macarons': 180.00,
                    'bunet': 250.00,
                    'Chocolate Pudding with Miso Caramel': 150.00,
                    'Chocolate Mousse': 200.00,
                    'Chocolate-Peanut Butter Cookie Cake': 300.00,
                    'Strawberry Cheesecake': 180.00,
                    'Stuffed Strawberry': 180.00
                };
                return prices[product] || 0;
            }

            function getProductImage(product) {
                const images = {
                    'truffles': 'https://insanelygoodrecipes.com/wp-content/uploads/2022/01/Homemade-Chocolate-Truffles-with-Fresh-Berries.jpg',
                    'brownies': 'https://food.fnr.sndimg.com/content/dam/images/food/fullset/2020/10/14/0/FNK_PECAN_PIE_BROWNIES_H_f_s4x3.jpg.rend.hgtvcom.1280.720.suffix/1602697125514.jpeg',
                    'cookies': 'https://preppykitchen.com/wp-content/uploads/2023/04/Peanut-Butter-Chocolate-Chip-Cookies-Recipe-Card.jpg',
                    'tiramisu': 'https://bakedbrewedbeautiful.com/wp-content/uploads/2021/03/DSC0432-1024x684.jpg',
                    'macarons': 'https://www.southernliving.com/thmb/dnsycw_-mf35yKRkq3cBsThVzrY=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Southern-Living_Macarons_025-0e05e0cd226d44609f55ed8bc9cd3a3e.jpg',
                    'bunet': '',
                    'pudding': '',
                    'mousse': '',
                    'chocolate-peanut': '',
                    'cheesecake': '',
                    'stuffed': '',
                };
                return images[product] || '';
            }

            function getProductOptions(product) {
                const options = {
                    'truffles': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'brownies': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'cookies': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'tiramisu': '<option value="box">Box</option><option value="slices">Slices</option>',
                    'macarons': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'bunet': '<option value="box">Box</option><option value="slices">Slices</option>',
                    'Chocolate Pudding with Miso Caramel': '<option value="piece">Piece</option>',
                    'Chocolate Mousse': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'Chocolate-Peanut Butter Cookie Cake': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                    'Strawberry Cheesecake': '<option value="box">Box</option><option value="slices">Slices</option>',
                    'Stuffed Strawberry': '<option value="box">Box</option><option value="pieces">Pieces</option>',
                };
                return options[product] || '';
            }

            function submitOrder() {
                alert('Order submitted! Thank you for buying at 2Sweet4U');
                clearOrders();
                const totalPriceElement = document.getElementById('totalPrice');
                totalPriceElement.textContent = '';
            }

            function clearOrders() {
                const orderSection = document.getElementById('orderSection');
                orderSection.innerHTML = '';
                updateTotalPrice();
            }

            function removeProduct(productId) {
                const productToRemove = document.getElementById(productId);
                productToRemove.remove();
                updateTotalPrice();
            }

            function updateTotalPrice() {
                const orderSection = document.getElementById('orderSection');
                const productDivs = orderSection.querySelectorAll('.product');
                let totalPrice = 0;

                if (productDivs.length > 0) {
                    productDivs.forEach(function(productDiv) {
                        const priceSpan = productDiv.querySelector('span');
                        const price = parseFloat(priceSpan.textContent);
                        totalPrice += price;
                    });
                    const totalPriceElement = document.getElementById('totalPrice');
                    totalPriceElement.textContent = `Total: â‚±${totalPrice.toFixed(2)}`;
                    const submitOrderButtonContainer = document.getElementById('submitOrderButtonContainer');
                    submitOrderButtonContainer.style.display = 'block';
                } else {
                    const totalPriceElement = document.getElementById('totalPrice');
                    totalPriceElement.textContent = '';
                    const submitOrderButtonContainer = document.getElementById('submitOrderButtonContainer');
                    submitOrderButtonContainer.style.display = 'none';
                }
            }

        </script>
    </main>
    
</body>
</html>
